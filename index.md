# 软件开发流程的变革
## 敏捷方法在软件项目中的实践
--------------------------
### 何谓敏捷, 为何敏捷: 新时代的挑战和传统软件开发方式的局限
#### 20世界60年代的软件危机
　  在20世纪60年代之后, 大容量高速度计算机的出现，使计算机的应用范围迅速扩大，软件开发急剧增长。高级语言开始出现；操作系统的发展引起了计算机应用方式的变化；大量数据处理导致第一代数据库管理系统的诞生。软件系统的规模越来越大，复杂程度越来越高，软件可靠性问题也越来越突出。原来的个人设计、个人使用的方式不再能满足要求，迫切需要改变软件生产方式，提高软件生产率，软件危机开始爆发. 
    早起的软件危机主要表现在以下方面:
　　1 软件开发费用和进度失控。费用超支、进度拖延的情况屡屡发生。有时为了赶进度或压成本不得不采取一些权宜之计，这样又往往严重损害了软件产品的质量。
　　2 软件的可靠性差。尽管耗费了大量的人力物力，而系统的正确性却越来越难以保证，出错率大大增加，由于软件错误而造成的损失十分惊人。
　　3 生产出来的软件难以维护。很多程序缺乏相应的文档资料，程序中的错误难以定位，难以改正，有时改正了已有的错误又引入新的错误。随着软件的社会拥有量越来越大，维护占用了大量人力、物力和财力。
    进入80年代以来，尽管软件工程研究与实践取得了可喜的成就，软件技术水平有了长足的进展，但是软件生产水平依然远远落后于硬件生产水平的发展速度。软件危机不仅没有消失，还有加剧之势。主要表现在：
　　1 软件成本在计算机系统总成本中所占的比例居高不下，且逐年上升。由于微电子学技术的进步和硬件生产自动化程度不断提高，硬件成本逐年下降，性能和产量迅速提高。然而软件开发需要大量人力，软件成本随着软件规模和数量的剧增而持续上升。从美、日两国的统计数字表明，1985年度软件成本大约占总成本的90%。 
　　2 软件开发生产率提高的速度远远跟不上计算机应用迅速普及深入的需要，软件产品供不应求的状况使得人类不能充分利用现代计算机硬件所能提供的巨大潜力。  

	产生这些危机的原因经研究主要分为两方面:  
* 与软件本身的特点有关
　　软件不同于硬件，它是计算机系统中的逻辑部件而不是物理部件；软件样品即是产品，试制过程也就是生产过程；软件不会因使用时间过长而“老化”或“用坏”；软件具有可运行的行为特性，在写出程序代码并在计算机上试运行之前，软件开发过程的进展情况较难衡量，软件质量也较难评价，因此管理和控制软件开发过程十分困难；软件质量不是根据大量制造的相同实体的质量来度量，而是与每一个组成部分的不同实体的质量紧密相关，因此，在运行时所出现的软件错误几乎都是在开发时期就存在而一直未被发现的，改正这类错误通常意味着改正或修改原来的设计，这就在客观上使得软件维护远比硬件维护困难；软件是一种信息产品，具有可延展性，属于柔性生产，与通用性强的硬件相比，软件更具有多样化的特点，更加接近人们的应用问题。
　　随着计算机应用领域的扩大，99%的软件应用需求已不再是定义良好的数值计算问题，而是难以精确描述且富于变化的非数值型应用问题。因此，当人们的应用需求变化发展的时候，往往要求通过改变软件来使计算机系统满足新的需求，维护用户业务的延续性。
	* 来自于软件开发人员的弱点  
 	1. 软件产品是人的思维结果，因此软件生产水平最终在相当程度上取决于软件人员的教育、训练和经验的积累；
　　2. 对于大型软件往往需要许多人合作开发，甚至要求软件开发人员深入应用领域的问题研究，这样就需要在用户与软件人员之间以及软件开发人员之间相互通讯，在此过程中难免发生理解的差异，从而导致后续错误的设计或实现，而要消除这些误解和错误往往需要付出巨大的代价；  
　　3. 由于计算机技术和应用发展迅速，知识更新周期加快，软件开发人员经常处在变化之中，不仅需要适应硬件更新的变化，而且还要涉及日益扩大的应用领域问题研究；软件开发人员所进行的每一项软件开发几乎都必须调整自身的知识结构以适应新的问题求解的需要，而这种调整是人所固有的学习行为，难以用工具来代替。  
　　软件生产的这种知识密集和人力密集的特点是造成软件危机的根源所在。  
　　从软件开发危机的种种表现和软件开发作为逻辑产品的特殊性可以发现软件开发危机的原因：  
　　（1）用户需求不明确
　　在软件开发过程中，用户需求不明确问题主要体现在四个方面：
　　在软件开发出来之前，用户自己也不清楚软件开发的具体需求；
　　用户对软件开发需求的描述不精确，可能有遗漏、有二义性、甚至有错误；
　　在软件开发过程中，用户还提出修改软件开发功能、界面、支撑环境等方面的要求；
　　软件开发人员对用户需求的理解与用户本来愿望有差异。
　　（2）缺乏正确的理论指导  
　　缺乏有力的方法学和工具方面的支持。由于软件开发不同于大多数其他工业产品，其开发过程是复杂的逻辑思维过程，其产品极大程度地依赖于开发人员高度的智力投入。由于过分地依靠程序设计人员在软件开发过程中的技巧和创造性，加剧软件开发产品的个性化，也是发生软件开发危机的一个重要原因。
　　（3）软件开发规模越来越大  
　　随着软件开发应用范围的增广，软件开发规模愈来愈大。大型软件开发项目需要组织一定的人力共同完成，而多数管理人员缺乏开发大型软件开发系统的经验，而多数软件开发人员又缺乏管理方面的经验。各类人员的信息交流不及时、不准确、有时还会产生误解。软件开发项目开发人员不能有效地、独立自主地处理大型软件开发的全部关系和各个分支，因此容易产生疏漏和错误。  
　　（4）软件开发复杂度越来越高  
　　软件开发不仅仅是在规模上快速地发展扩大，而且其复杂性也急剧地增加。软件开发产品的特殊性和人类智力的局限性，导致人们无力处理“复杂问题”。所谓“复杂问题”的概念是相对的，一旦人们采用先进的组织形式、开发方法和工具提高了软件开发效率和能力，新的、更大的、更复杂的问题又摆在人们的面前。  
	
* 传统软件开发过程及其局限  
	传统的软件工程方法,例如瀑布式模型,RUP,CMMI等等都可以称之为"重量级"的工程方法, 他们之间的共同点是, 都建立在"需求明确"的基础之上, 文档驱动是它们的共同特征之一.
	对于重量级的方法论, 如果在前期需求分析阶段无法做到"需求明确", 那么将导致后面的开发过程异常艰苦,以至于无法开发出真正满足需求的产品,因此也就对需求分析人员提出了十分高的要求. 然而即使有幸在项目组当中拥有功底深厚,技巧了得的分析人员,也依然难以避免需求变更. 这是因为在开发的过程中, 随时都有可能加入新的需求或者将某些功能点砍掉. 以往需求分析人员往往将这种变化归咎于客户的不负责或者不明确,于是传统开发方法中, 就客户必须为自己的这些需求变更行为买单,在CMMI广泛推行的印度软件外包业中,这样的事件更是十分常见. 因为对于软件外包行业, 工方只是按照"文档"行事, 一切不在文档范围内,或者与文档描述有偏差的需求,皆视为变更,"如有变更,请另付费"是十分重要的原则. 这样的文档驱动开发的行为又将导致, 即甲乙双方为了保障自己的利益, 都要在文档之中竭尽全力的描述清楚,于是需求文档变得十分冗长和繁琐. 可是这一切只是扬汤止沸, 并没有真正面对问题的本质, 那就是软件工程中的需求变化是不可避免的. 这种不可避免的原因是, 首先软件是服务于客户的, 客户使用软件的目的是占领市场, 提高价值. 而市场本身就是不断变化的, 尤其在某些领域, 比如互联网,电子商务等新兴行业, 市场可谓瞬息万变. 一个月前谈定的方案, 可能无法满足下个月的市场需求, 半年前认为十分重要的功能, 可能现在应不需要了. 作为软件提供商, 如果只为了保护自己的利益而提高客户需求变更的成本, 这是注定要失去竞争力的.   

* 敏捷是以"人"为主体的　
	与"重量级"对应的方法论也涌现出了不少, 比如Scrum方法, 水晶方法, 迭代开发方法, 极限编程等等. 敏捷的提出则是在这众多方法论之后的一次总结和汇总, 或者可以称之为集成. 敏捷本身并没有提出具体的行为方式, 而是提出了一些列的基本原则, 其中敏捷宣言可以作为其精神的代表作.

	敏捷软件开发宣言

		我们一直在实践中探寻更好的软件开发方法，
		身体力行的同时也帮助他人。由此我们建立了如下价值观：

		个体和互动 高于 流程和工具
		工作的软件 高于 详尽的文档
		客户合作 高于 合同谈判
		响应变化 高于 遵循计划

		也就是说，尽管右项有其价值，
		我们更重视左项的价值。
	***
	从上面可以看出敏捷并没有全盘否认传统开发方式中的一切, 而是表达了一种价值观, 认为比起"流程", "人"更加重要. 软件工程的产出本质上是思维的产出, 而思维一旦被"流程"所局限,就难以发挥出其效力, 甚至会产生负效力. 
	
### 团队, 让所有人坐在一艘船上
* 甲方, 乙方? 不,我们是一方
	传统软件开发中的角色大体可分为甲方和乙方. 即需求提出方和功能实现方.即是是在统一组织的内部, 通常这两者也是由不同的部门或者团队来担任. 这两种角色的功能可谓泾渭分明, 甲方负责提出要求,乙方负责达成目标. 而这样的角色划分会带来的一个很明显的问题就是, 双方的最终目标其实并不一致. 甲方关心进度, 而乙方关心成本. 两者之间的不可调和导致沟通上的障碍. 
* 猪与鸡的故事
* 什么样的队员是最好的?

### 需求分析: 从蓝图到餐巾纸
* 探索需求的本质即是沟通  
	对于大多数应用型项目(这里尤其指各种类型的信息系统)而言, 探索需求的本质即是沟通．需要软件的一方必须与开发方进行交流．一个项目的成功,依赖于许多不同的信息,这些信息来自各有不同的人员:一方是客户和用户,有时还要需求人员,领域专家和从其他业务或组织视角来审视软件的人, 另一方面则是技术团队.   
	那么既然是沟通, 就必须要有一个对等的关系. 一旦任何一方在沟通之中把持了绝对地位,那么沟通就会产生问题, 项目自然就会蒙受损失. 假如业务方在沟通中站就强势, 他们就会强烈的关注与软件功能和交付日期, 他们总是希望能够用更短的时间, 交付更多的功能,而很少意识到,这两者之间的矛盾,即使他们宣称他们知道这一点,也常常会使用诸如, "虽然我们知道现在时间紧,但是由于这些功能对我们都是十分重要的,所以还请诸位开发人员多多努力(言下之意即是加班加点)"这样的话语, 或者打出"人定胜天"的大旗来"鼓舞士气". 同时还有可能会因为业务方的强势地位,导致业务分析员和开发人员不得不十分"积极主动"的追着业务人员去要需求,否则就无法得到明确的答复.显然从人类的天生的自尊角度出发,是没有人愿意长期的去和业务人员"乞讨需求"的,甚至讨到的哪些需求也未必是足够清晰的. 当业务分析员觉得受够了的时候,就会把皮球踢给开发人员,于是开发人员拿到了一坨模棱两可的需求,但是他们也足够聪明,他们觉得既然客户给我这些需求, 我就照着做好了, 不清楚的地方自己了解一下就好. 于是最终开发出了客户根本不想要的东西.   
	那么如果开发人员把持绝对地位(这种情况极其罕见)会怎么样呢? 这将会导致技术术语代替了业务语言,从而导致开发人员无法真正倾听业务方的实际需求.

* Use case vs User story
* 从UML到代码即设计
* 从模糊印象到逐渐清晰

### 计划与估算
* 计划 vs 变化
* 长期计划 vs 短期计划
* 绝对估算 vs 相对估算
* 不得不提, 如何付钱?

### 过程控制
* 沟通重于一切 -- 
* 自动化 -- 让程序员做他们该做的事
* 守门员,敏捷团队中QA人员的职责
* 结对编程, 利还是弊?
* 测试驱动, 覆盖率到底有多重要?
* 工具 -- 欲善其事, 先利其器
* 站立会议 -- 
* 回顾会议 -- 让大家把==[]\
不满发泄出来

### 质量掌控: 测试, 测试, 还是测试
* 测试驱动: 让单元测试成为习惯
* QA也要学会编码么? 自动化功能测试的思考
* 性能测试, 从何时起开始考量?
* 代码审查 vs 随时重构

### 发布计划
* 产品交付 -- 尽快交付, 创造价值

### 没有银弹 -- 敏捷的适用与不适用
